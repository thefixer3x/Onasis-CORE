{
  "name": "onasis-mcp",
  "alias": ["mcp.lanonasis.com"],
  "version": 2,
  "builds": [
    {
      "src": "src/mcp/index.ts",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    {
      "src": "/mcp/sse",
      "dest": "/src/mcp/index.ts",
      "headers": {
        "Content-Type": "text/event-stream",
        "Cache-Control": "no-cache",
        "Connection": "keep-alive",
        "X-Accel-Buffering": "no",
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Headers": "Content-Type, X-API-Key, X-Client-Id, X-MCP-Capabilities"
      }
    },
    {
      "src": "/mcp/(.*)",
      "dest": "/src/mcp/index.ts",
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Headers": "Content-Type, X-API-Key, X-Client-Id, X-MCP-Capabilities",
        "Access-Control-Allow-Methods": "GET, POST, PUT, DELETE, OPTIONS"
      }
    },
    {
      "src": "/(.*)",
      "dest": "/src/mcp/index.ts"
    }
  ],
  "env": {
    "SUPABASE_URL=https://<project-ref>.supabase.co
    "SUPABASE_SERVICE_KEY=REDACTED_SUPABASE_SERVICE_ROLE_KEY
    "OPENAI_API_KEY": "@openai-api-key",
    "MCP_ENDPOINT": "https://mcp.lanonasis.com"
  },
  "regions": ["iad1"],
  "functions": {
    "src/mcp/index.ts": {
      "maxDuration": 300,
      "memory": 1024
    }
  }
}