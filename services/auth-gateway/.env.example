# =============================================================================
# Auth Gateway Configuration - Supabase Backend
# =============================================================================
# Project: CONNECTION POINT (ptnrwrgzrsbocgxlpvhd)
# Migrated from Neon to Supabase on 2024-12-29

# =============================================================================
# Supabase Configuration (PRIMARY)
# =============================================================================

# Supabase Project URLs
SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_AUTH_URL="https://your-project.supabase.co/auth/v1"

# Database Connection (Supabase Pooler - recommended for serverless/production)
# Format: postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true
DATABASE_URL="postgresql://postgres.your-project-ref:[YOUR_DB_PASSWORD]@aws-0-eu-west-2.pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct Database Connection (for migrations, schema changes)
# Format: postgresql://postgres:[password]@db.[project-ref].supabase.co:5432/postgres
DIRECT_DATABASE_URL="postgresql://postgres:[YOUR_DB_PASSWORD]@db.your-project-ref.supabase.co:5432/postgres"

# Supabase API Keys
SUPABASE_ANON_KEY="your-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# =============================================================================
# Auth Gateway Configuration
# =============================================================================

PORT=4000
NODE_ENV="development"

# CORS Origins (comma-separated)
CORS_ORIGIN="http://localhost:5173,https://your-domain.com"

# JWT Configuration
JWT_SECRET="change-me-minimum-32-characters"
JWT_EXPIRY="7d"

# =============================================================================
# Rate Limiting
# =============================================================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# Logging
# =============================================================================

LOG_LEVEL="info"
LOG_FORMAT="json"

# =============================================================================
# Postgres Configuration (Alternative to DATABASE_URL)
# =============================================================================

PGHOST='db.your-project-ref.supabase.co'
PGDATABASE='postgres'
PGUSER='postgres'
PGPASSWORD='[YOUR_DB_PASSWORD]'
PGSSLMODE='require'

# =============================================================================
# Webhook Configuration
# =============================================================================

# Secret for verifying webhook payloads
WEBHOOK_SECRET="generate-a-secure-random-string"
